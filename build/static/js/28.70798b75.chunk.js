(this["webpackJsonptu-experto-lega-admin"]=this["webpackJsonptu-experto-lega-admin"]||[]).push([[28],{573:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t(15),l=t(90),i=t(89),n=t(536),r=t(555),o=t(554),d=t(535),j=t(146),b=t(539),m=t(308),u=t(1);var h=e=>{let{callme:a,data:t,setData:l,callback:i}=e;const[h]=o.a.useForm(),{TextArea:O}=d.a,x=()=>{c.a.put("/api/callme/"+a._id,{name:h.getFieldValue("name"),email:h.getFieldValue("email"),phone:h.getFieldValue("phone"),message:h.getFieldValue("message"),schedule:h.getFieldValue("schedule"),state:h.getFieldValue("state")}).then((e=>{l(null),i()}))},p=()=>{l(null)};return Object(s.useEffect)((()=>{if(h.resetFields(),a){let e={name:a.name,email:a.email,phone:a.phone,message:a.message,schedule:a.schedule,state:a.state};h.setFieldsValue(e)}}),[a,t]),Object(u.jsx)(n.a,{visible:t,title:"Informaci\xf3n de la solicitud",onOk:x,onCancel:p,forceRender:!0,maskClosable:!1,footer:[Object(u.jsx)(j.a,{onClick:p,children:"Cancelar"},"back"),Object(u.jsx)(j.a,{type:"primary",onClick:x,children:"Guardar"},"submit")],children:Object(u.jsxs)(o.a,{layout:"vertical",form:h,children:[Object(u.jsx)(o.a.Item,{label:"Nombre",name:"name",id:"name",hasFeedback:!0,rules:[{required:!0,message:"Por favor ingrese el nombre!"},{min:4,message:"El nombre debe tener al menos 4 caracteres!"}],children:Object(u.jsx)(d.a,{disabled:!0})}),Object(u.jsx)(o.a.Item,{label:"Correo",name:"email",id:"email",hasFeedback:!0,rules:[{required:!0,type:"email",message:"El valor ingresado no es un correo el\xe9ctronico!"}],children:Object(u.jsx)(d.a,{disabled:!0})}),Object(u.jsx)(o.a.Item,{label:"Tel\xe9fono",name:"phone",id:"phone",hasFeedback:!0,rules:[{required:!0,message:"Por favor ingrese el n\xfamero tel\xe9fono!"}],children:Object(u.jsx)(r.a,{disabled:!0})}),Object(u.jsx)(o.a.Item,{label:"Mensaje",name:"message",id:"message",hasFeedback:!0,rules:[{required:!0,type:"message",message:"El mensaje no ha sido ingresado!"}],children:Object(u.jsx)(O,{autoSize:!0,disabled:!0})}),Object(u.jsx)(o.a.Item,{name:"schedule",id:"schedule",label:"Horario",hasFeedback:!0,rules:[{required:!0}],children:Object(u.jsxs)(b.a,{placeholder:"Seleccione un horario",disabled:!0,children:[Object(u.jsx)("option",{value:"ma\xf1ana",children:"ma\xf1ana"}),Object(u.jsx)("option",{value:"tarde",children:"tarde"}),Object(u.jsx)("option",{value:"noche",children:"noche"})]})}),Object(u.jsx)(o.a.Item,{name:"state",valuePropName:"checked",id:"state",children:Object(u.jsx)(m.a,{children:"Finalizado"})})]})})},O=t(91),x=t(87);a.default=()=>{const[e,a]=Object(s.useState)([]),[t,n]=Object(s.useState)(),[r,o]=Object(s.useState)(),d=[{title:"Nombre",dataIndex:"name",key:"name",render:e=>Object(u.jsx)("a",{children:e})},{title:"Correo",dataIndex:"email",key:"email",render:e=>Object(u.jsx)("a",{children:e})},{title:"Tel\xe9fono",dataIndex:"phone",key:"phone",render:e=>Object(u.jsx)("a",{children:e})},{title:"Horario",dataIndex:"schedule",key:"schedule",render:e=>Object(u.jsx)("a",{children:e})},{title:"\xbfEmpresarial?",dataIndex:"message",key:"message",render:e=>Object(u.jsx)("a",{children:e.includes("Solicitud de contacto tr\xe1mite empresarial")?"Si":"No"})},{title:"Estado",dataIndex:"state",key:"state",render:e=>Object(u.jsx)("a",{children:e?"Finalizado":"Pendiente"})},{title:"Acci\xf3n",dataIndex:"action",key:"action",render:(e,a)=>Object(u.jsx)(O.a,{handleEdit:()=>j(a),handleDelete:()=>b(a)})}],j=e=>{o(e),n({callme:e})},b=e=>{x.a.show({type:"warning",title:"Confirmaci\xf3n",message:"\xbfSeguro desea eliminar esta solicitud de llamado?",btnOk:"Aceptar",fnOk:()=>{m(e)},btnCancel:"Cancelar",fnCancel:()=>{}})},m=async e=>{200==(await c.a.delete("/api/callme/"+e._id)).status&&p()},p=async()=>{const e=await c.a.get("/api/callme");200==e.status&&a(e.data)};return Object(s.useEffect)((()=>{p()}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(h,{callme:r,data:t,setData:n,callback:()=>{p(),n(null)}}),Object(u.jsx)(l.a,{children:Object(u.jsxs)("div",{className:"header-page",children:[Object(u.jsx)("h1",{children:"Solicitudes de llamada"}),Object(u.jsxs)("div",{className:"main-card card",children:[Object(u.jsx)("div",{className:"main-card-action",children:Object(u.jsx)("ul",{})}),Object(u.jsx)("div",{className:"main-card-table",children:Object(u.jsx)(i.a,{columns:d,data:e})})]})]})})]})}},87:function(e,a,t){"use strict";t(0);var s=t(92),c=(t(93),t(1));const l={show(e){Object(s.confirmAlert)({closeOnClickOutside:!1,customUI:a=>{let{onClose:t}=a;return Object(c.jsx)("div",{className:"modal-alert",children:Object(c.jsx)("div",{className:"modal-content "+e.type,children:Object(c.jsxs)("div",{className:"content",children:[Object(c.jsxs)("div",{className:"alert-content",children:[Object(c.jsx)("p",{className:"alert-title",children:e.title}),Object(c.jsx)("p",{className:"alert-message",children:e.message})]}),Object(c.jsxs)("div",{className:"alert-buttons",children:[Object(c.jsx)("button",{type:"submit",className:"btn-large",onClick:()=>(t(),e.fnOk()),children:e.btnOk}),e.fnCancel?Object(c.jsx)("button",{type:"submit",className:"btn-large outline",onClick:()=>(t(),e.fnCancel()),children:e.btnCancel}):null]})]})})})}})}};a.a=l},88:function(e,a,t){"use strict";var s=t(0),c=t(536),l=t(15),i=t(554),n=t(146),r=t(535),o=t(539),d=t(552),j=t(99),b=t(1);a.a=e=>{let{user:a,data:t,setData:m,callback:u}=e;const[h]=i.a.useForm(),[O,x]=Object(s.useState)([]),p=()=>{const e=new FormData;a?(O.length>0&&e.append("image",O[0].originFileObj),e.append("user",JSON.stringify({first_name:h.getFieldValue("first_name"),last_name:h.getFieldValue("last_name"),email:h.getFieldValue("email"),password:h.getFieldValue("password"),role:h.getFieldValue("role"),url_image:""})),l.a.put("/api/user/"+(a._id?a._id:a.id),e).then((e=>{m(null),u(a._id?a._id:a.id)}))):(O.length>0&&e.append("image",O[0].originFileObj),e.append("user",JSON.stringify({first_name:h.getFieldValue("first_name"),last_name:h.getFieldValue("last_name"),email:h.getFieldValue("email"),password:h.getFieldValue("password"),role:h.getFieldValue("role"),url_image:""})),l.a.post("/api/user",e).then((e=>{m(null),u()})))},g=()=>{m(null)};return Object(s.useEffect)((()=>{if(h.resetFields(),a){let e={first_name:a.first_name,last_name:a.last_name,password:a.password,email:a.email,role:a.role};if(h.setFieldsValue(e),a.url_image){let e=a.url_image;x([{uid:"-1",name:"load.png",status:"done",url:e,thumbUrl:e}])}}else x([])}),[a,t]),Object(b.jsx)(c.a,{visible:t,title:"Informaci\xf3n del usuario",onOk:p,onCancel:g,forceRender:!0,maskClosable:!1,footer:[Object(b.jsx)(n.a,{onClick:g,children:"Cancelar"},"back"),Object(b.jsx)(n.a,{type:"primary",onClick:p,children:"Guardar"},"submit")],children:Object(b.jsxs)(i.a,{layout:"vertical",form:h,children:[Object(b.jsx)(i.a.Item,{label:"Nombre(s)",name:"first_name",id:"first_name",hasFeedback:!0,rules:[{required:!0,message:"Por favor ingrese el (los) nombre(s)!"},{min:4,message:"El (Los) nombre(s) debe(n) tener al menos 3 caracteres!"}],children:Object(b.jsx)(r.a,{})}),Object(b.jsx)(i.a.Item,{label:"Apellidos",name:"last_name",id:"last_name",hasFeedback:!0,rules:[{required:!0,message:"Por favor ingrese los apellidos!"},{min:4,message:"Los apellidos deben tener al menos 4 caracteres!"}],children:Object(b.jsx)(r.a,{})}),Object(b.jsx)(i.a.Item,{label:"Correo",name:"email",id:"email",hasFeedback:!0,rules:[{required:!0,type:"email",message:"El valor ingresado no es un correo el\xe9ctronico!"}],children:Object(b.jsx)(r.a,{})}),Object(b.jsx)(i.a.Item,{label:"Contrase\xf1a",name:"password",id:"password",hasFeedback:!0,rules:[{required:!0,message:"Por favor ingrese la contrase\xf1a!"},{min:8,message:"La contrase\xf1a debe tener al menos 8 caracteres!"}],children:Object(b.jsx)(r.a,{type:"password"})}),Object(b.jsx)(i.a.Item,{name:"role",id:"role",label:"Rol",rules:[{required:!0}],children:Object(b.jsxs)(o.a,{placeholder:"Seleccione un rol",allowClear:!0,children:[Object(b.jsx)("option",{value:"ADMINISTRADOR",children:"ADMINISTRADOR"}),Object(b.jsx)("option",{value:"ASESOR LEGAL",children:"ASESOR LEGAL"}),Object(b.jsx)("option",{value:"CALL CENTER",children:"CALL CENTER"})]})}),Object(b.jsx)(j.a,{rotate:!1,aspect:1,modalTitle:"Editar Imagen",children:Object(b.jsx)(d.a,{listType:"picture-card",fileList:O,defaultFileList:[...O],onChange:e=>{x(e.fileList)},children:0==O.length&&"+ Upload"})})]})})}},89:function(e,a,t){"use strict";t(0);var s=t(551),c=t(1);a.a=e=>{let{columns:a,data:t}=e;return Object(c.jsx)(s.a,{columns:a,dataSource:t})}},90:function(e,a,t){"use strict";var s=t(0),c=t(557),l=t(3),i=t(16),n=t(303),r=t.p+"static/media/tutorial.5db87431.pdf",o=t(576),d=t(577),j=t(578),b=t(579),m=t(580),u=t(581),h=t(582),O=t(583),x=t(584),p=t(585),g=t(586),C=t(11),f=t(1);new C.a;const{SubMenu:k}=n.a;var v=()=>{const e=Object(l.g)(),{user:a}=Object(s.useContext)(i.a);return Object(f.jsxs)("div",{className:"drawer",children:[Object(f.jsx)("div",{className:"drawer-logo",children:Object(f.jsx)("img",{src:"/assets/logo/logo-white.svg"})}),Object(f.jsx)("nav",{children:Object(f.jsx)(f.Fragment,{children:a&&"ADMINISTRADOR"===a.role?Object(f.jsxs)(n.a,{mode:"inline",defaultSelectedKeys:[e.location.pathname],defaultOpenKeys:[e.location.pathname.split("/")[1]],style:{height:"100%",borderRight:0},children:[Object(f.jsx)("div",{className:"menu-title",children:Object(f.jsx)("p",{children:"PANEL DE CONTROL"})}),Object(f.jsx)(n.a.Item,{icon:Object(f.jsx)(o.a,{}),children:"Inicio"},"/"),Object(f.jsx)("div",{className:"menu-title",children:Object(f.jsx)("p",{children:"TR\xc1MITES"})}),Object(f.jsx)(n.a.Item,{icon:Object(f.jsx)(d.a,{}),onClick:()=>e.push("/"),children:"Mis tr\xe1mites"},"10"),Object(f.jsx)(n.a.Item,{icon:Object(f.jsx)(j.a,{}),onClick:()=>e.push("/notary"),children:"Notarias"},"/notary"),Object(f.jsxs)(k,{icon:Object(f.jsx)(b.a,{}),title:"Actos Notariales",children:[Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/notarial-act/view"),children:"\xb7 Lista de Actos Notariales"},"/notarial-act/view"),Object(f.jsxs)(k,{icon:Object(f.jsx)(b.a,{}),title:"Creaci\xf3n Acto Notarial",children:[Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/notarial-act/category"),children:"1\xb7 Categor\xedas"},"/notarial-act/category"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/notarial-act/actor"),children:"2\xb7 Actores"},"/notarial-act/actor"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/notarial-act/input"),children:"3\xb7 Campos Formularios"},"/notarial-act/input"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/notarial-act/form"),children:"4\xb7 Nuevo Acto Notarial"},"/notarial-act/form")]},"seb-notarial-act"),Object(f.jsxs)(n.a.Item,{children:[Object(f.jsx)("a",{href:r,target:"_blank"}),"\xbfNecesitas ayuda?"]},"/notarial-act/tutorial")]},"notarial-act"),Object(f.jsx)("div",{className:"menu-title",children:Object(f.jsx)("p",{children:"CONFIGURACI\xd3N"})}),Object(f.jsxs)(k,{icon:Object(f.jsx)(m.a,{}),title:"Web Site",children:[Object(f.jsxs)(k,{icon:Object(f.jsx)(u.a,{}),title:"Crear Pregunta",children:[Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/website/categoryquestion"),children:"\xb7 Categor\xedas Pregunta"},"/website/categoryquestion"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/website/subcategoryquestion"),children:"\xb7 Subcategor\xedas Pregunta"},"/website/subcategoryquestion"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/website/question"),children:"\xb7 Preguntas frecuentes"},"/website/question")]},"seb-question"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/website/banner"),children:"\xb7 Banner"},"/website/banner"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/website/internationalization"),children:"\xb7 Internacionalizaci\xf3n"},"/website/internationalization"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/website/page"),children:"\xb7 Politicas y tratamiento de datos"},"/website/page"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/website/contact"),children:"\xb7 Solicitudes de contacto"},"/website/contact"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/website/comment"),children:"\xb7 Comentarios"},"/website/comment")]},"website"),Object(f.jsx)(n.a.Item,{icon:Object(f.jsx)(h.a,{}),onClick:()=>e.push("/user"),children:"Usuarios"},"/user"),Object(f.jsx)(n.a.Item,{icon:Object(f.jsx)(O.a,{}),onClick:()=>e.push("/chatbot"),children:"Chatbot"},"/chatbot"),Object(f.jsx)(n.a.Item,{icon:Object(f.jsx)(x.a,{}),onClick:()=>e.push("/aditional-config"),children:"Configuraci\xf3n adicional"},"/aditional-config"),Object(f.jsx)(n.a.Item,{icon:Object(f.jsx)(p.a,{}),onClick:()=>e.push("/notification"),children:"Notificaciones"},"/notification"),Object(f.jsx)("div",{className:"menu-title",children:Object(f.jsx)("p",{children:"SOPORTE"})}),Object(f.jsxs)(k,{icon:Object(f.jsx)(g.a,{}),title:"Soporte",children:[Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/support/callme"),children:"\xb7 Solicitudes de llamada"},"/support/callme"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/support/chat"),children:"\xb7 Solicitudes de chat"},"/support/chat")]},"support")]}):Object(f.jsxs)(n.a,{mode:"inline",defaultSelectedKeys:[e.location.pathname],defaultOpenKeys:[e.location.pathname.split("/")[1]],style:{height:"100%",borderRight:0},children:[Object(f.jsx)("div",{className:"menu-title",children:Object(f.jsx)("p",{children:"SOPORTE"})}),Object(f.jsxs)(k,{icon:Object(f.jsx)(g.a,{}),title:"Soporte",children:[Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/website/comment"),children:"\xb7 Comentarios"},"/website/comment"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/support/callme"),children:"\xb7 Solicitudes de llamada"},"/support/callme"),Object(f.jsx)(n.a.Item,{onClick:()=>e.push("/support/chat"),children:"\xb7 Solicitudes de chat"},"/support/chat")]},"support")]})})})]})};var I=e=>{let{openDrawer:a,setOpenDrawer:t}=e;return Object(f.jsx)(c.a,{placement:"left",closable:!1,onClose:()=>{t(!1)},visible:a,children:Object(f.jsx)(v,{})},"right")},w=t(88);const N=new C.a;var y=()=>{const[e,a]=Object(s.useState)(!1),{user:t}=Object(s.useContext)(i.a),[c,l]=Object(s.useState)(),n=()=>{l(null)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(w.a,{user:t,data:c,setData:n,callback:n}),Object(f.jsx)(I,{openDrawer:e,setOpenDrawer:a}),Object(f.jsxs)("header",{children:[Object(f.jsx)("div",{className:"responsive-menu",children:Object(f.jsx)("img",{src:"/assets/icon/menu.svg",onClick:()=>a(!0)})}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)("img",{src:"/assets/icon/notification.svg"})}),Object(f.jsx)("li",{children:Object(f.jsx)("img",{src:"/assets/icon/settings.svg",onClick:()=>(N.remove("token"),void(window.location.href="/login"))})}),Object(f.jsx)("li",{children:Object(f.jsx)("img",{className:"profile",src:"/assets/icon/user_3.svg",onClick:()=>{l({user:t})}})})]})]})]})},F=t(18);a.a=e=>{let{children:a,loader:t=!1}=e;return Object(f.jsxs)(f.Fragment,{children:[t&&Object(f.jsx)(F.a,{type:"loader"}),Object(f.jsxs)("div",{className:"layout",children:[Object(f.jsx)(v,{}),Object(f.jsxs)("div",{className:"layout-content",children:[Object(f.jsx)(y,{}),Object(f.jsx)("main",{children:a})]})]})]})}},91:function(e,a,t){"use strict";t(0);var s=t(540),c=t(109),l=t(541),i=t(1);a.a=e=>{let{handleEdit:a,handleDelete:t}=e;return Object(i.jsxs)(s.b,{size:"middle",children:[a?Object(i.jsx)("a",{className:"action-edit",onClick:a,children:Object(i.jsx)(c.a,{})}):null,t?Object(i.jsx)("a",{className:"action-delete",onClick:t,children:Object(i.jsx)(l.a,{})}):null]})}}}]);
//# sourceMappingURL=28.70798b75.chunk.js.map